{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSearchParams,Link}from'react-router-dom';import{CheckSquare,CheckCircle,AlertCircle,Loader}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EmailVerification=()=>{const[searchParams]=useSearchParams();const[status,setStatus]=useState('verifying');// verifying, success, error\nconst[message,setMessage]=useState('');const{verifyEmail}=useAuth();useEffect(()=>{const token=searchParams.get('token');if(!token){setStatus('error');setMessage('Invalid verification link. No token provided.');return;}handleVerification(token);},[searchParams]);const handleVerification=async token=>{try{const result=await verifyEmail(token);if(result.success){setStatus('success');setMessage('Your email has been verified successfully! You can now log in to your account.');}else{setStatus('error');setMessage(result.error||'Email verification failed. The link may be invalid or expired.');}}catch(error){setStatus('error');setMessage('An unexpected error occurred during verification.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(CheckSquare,{className:\"h-10 w-10 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl font-bold text-gray-900\",children:\"TaskMaster\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center\",children:[status==='verifying'&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(Loader,{className:\"h-16 w-16 text-blue-600 mx-auto mb-4 animate-spin\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Verifying Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Please wait while we verify your email address...\"})]})}),status==='success'&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-8 w-8 text-green-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Email Verified!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:message}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-primary\",children:\"Continue to Login\"})]})}),status==='error'&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-8 w-8 text-red-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Verification Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3 justify-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary\",children:\"Register Again\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-outline\",children:\"Back to Login\"})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Need help? Contact our support team for assistance.\"})})]})});};export default EmailVerification;","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","Link","CheckSquare","CheckCircle","AlertCircle","Loader","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmailVerification","searchParams","status","setStatus","message","setMessage","verifyEmail","token","get","handleVerification","result","success","error","className","children","to"],"sources":["/Users/vaibhavee/project/TODO_fastapi/frontend/src/components/EmailVerification.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { CheckSquare, CheckCircle, AlertCircle, Loader } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst EmailVerification = () => {\n  const [searchParams] = useSearchParams();\n  const [status, setStatus] = useState('verifying'); // verifying, success, error\n  const [message, setMessage] = useState('');\n  const { verifyEmail } = useAuth();\n\n  useEffect(() => {\n    const token = searchParams.get('token');\n    \n    if (!token) {\n      setStatus('error');\n      setMessage('Invalid verification link. No token provided.');\n      return;\n    }\n\n    handleVerification(token);\n  }, [searchParams]);\n\n  const handleVerification = async (token) => {\n    try {\n      const result = await verifyEmail(token);\n      \n      if (result.success) {\n        setStatus('success');\n        setMessage('Your email has been verified successfully! You can now log in to your account.');\n      } else {\n        setStatus('error');\n        setMessage(result.error || 'Email verification failed. The link may be invalid or expired.');\n      }\n    } catch (error) {\n      setStatus('error');\n      setMessage('An unexpected error occurred during verification.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4\">\n      <div className=\"max-w-md w-full\">\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center gap-2 mb-4\">\n            <CheckSquare className=\"h-10 w-10 text-blue-600\" />\n            <span className=\"text-3xl font-bold text-gray-900\">TaskMaster</span>\n          </div>\n        </div>\n\n        {/* Verification Status */}\n        <div className=\"card text-center\">\n          {status === 'verifying' && (\n            <>\n              <div className=\"mb-6\">\n                <Loader className=\"h-16 w-16 text-blue-600 mx-auto mb-4 animate-spin\" />\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Verifying Email</h2>\n                <p className=\"text-gray-600\">Please wait while we verify your email address...</p>\n              </div>\n            </>\n          )}\n\n          {status === 'success' && (\n            <>\n              <div className=\"mb-6\">\n                <div className=\"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <CheckCircle className=\"h-8 w-8 text-green-600\" />\n                </div>\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Email Verified!</h2>\n                <p className=\"text-gray-600 mb-6\">{message}</p>\n                <Link to=\"/login\" className=\"btn btn-primary\">\n                  Continue to Login\n                </Link>\n              </div>\n            </>\n          )}\n\n          {status === 'error' && (\n            <>\n              <div className=\"mb-6\">\n                <div className=\"bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <AlertCircle className=\"h-8 w-8 text-red-600\" />\n                </div>\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Verification Failed</h2>\n                <p className=\"text-gray-600 mb-6\">{message}</p>\n                <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\n                  <Link to=\"/register\" className=\"btn btn-primary\">\n                    Register Again\n                  </Link>\n                  <Link to=\"/login\" className=\"btn btn-outline\">\n                    Back to Login\n                  </Link>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n\n        {/* Help Text */}\n        <div className=\"text-center mt-6\">\n          <p className=\"text-sm text-gray-500\">\n            Need help? Contact our support team for assistance.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EmailVerification;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,eAAe,CAAEC,IAAI,KAAQ,kBAAkB,CACxD,OAASC,WAAW,CAAEC,WAAW,CAAEC,WAAW,CAAEC,MAAM,KAAQ,cAAc,CAC5E,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAElD,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,YAAY,CAAC,CAAGd,eAAe,CAAC,CAAC,CACxC,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGlB,QAAQ,CAAC,WAAW,CAAC,CAAE;AACnD,KAAM,CAACmB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAEqB,WAAY,CAAC,CAAGb,OAAO,CAAC,CAAC,CAEjCP,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqB,KAAK,CAAGN,YAAY,CAACO,GAAG,CAAC,OAAO,CAAC,CAEvC,GAAI,CAACD,KAAK,CAAE,CACVJ,SAAS,CAAC,OAAO,CAAC,CAClBE,UAAU,CAAC,+CAA+C,CAAC,CAC3D,OACF,CAEAI,kBAAkB,CAACF,KAAK,CAAC,CAC3B,CAAC,CAAE,CAACN,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAQ,kBAAkB,CAAG,KAAO,CAAAF,KAAK,EAAK,CAC1C,GAAI,CACF,KAAM,CAAAG,MAAM,CAAG,KAAM,CAAAJ,WAAW,CAACC,KAAK,CAAC,CAEvC,GAAIG,MAAM,CAACC,OAAO,CAAE,CAClBR,SAAS,CAAC,SAAS,CAAC,CACpBE,UAAU,CAAC,gFAAgF,CAAC,CAC9F,CAAC,IAAM,CACLF,SAAS,CAAC,OAAO,CAAC,CAClBE,UAAU,CAACK,MAAM,CAACE,KAAK,EAAI,gEAAgE,CAAC,CAC9F,CACF,CAAE,MAAOA,KAAK,CAAE,CACdT,SAAS,CAAC,OAAO,CAAC,CAClBE,UAAU,CAAC,mDAAmD,CAAC,CACjE,CACF,CAAC,CAED,mBACEV,IAAA,QAAKkB,SAAS,CAAC,iGAAiG,CAAAC,QAAA,cAC9GjB,KAAA,QAAKgB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAE9BnB,IAAA,QAAKkB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BjB,KAAA,QAAKgB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DnB,IAAA,CAACN,WAAW,EAACwB,SAAS,CAAC,yBAAyB,CAAE,CAAC,cACnDlB,IAAA,SAAMkB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,EACjE,CAAC,CACH,CAAC,cAGNjB,KAAA,QAAKgB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAC9BZ,MAAM,GAAK,WAAW,eACrBP,IAAA,CAAAI,SAAA,EAAAe,QAAA,cACEjB,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnB,IAAA,CAACH,MAAM,EAACqB,SAAS,CAAC,mDAAmD,CAAE,CAAC,cACxElB,IAAA,OAAIkB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1EnB,IAAA,MAAGkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,mDAAiD,CAAG,CAAC,EAC/E,CAAC,CACN,CACH,CAEAZ,MAAM,GAAK,SAAS,eACnBP,IAAA,CAAAI,SAAA,EAAAe,QAAA,cACEjB,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnB,IAAA,QAAKkB,SAAS,CAAC,mFAAmF,CAAAC,QAAA,cAChGnB,IAAA,CAACL,WAAW,EAACuB,SAAS,CAAC,wBAAwB,CAAE,CAAC,CAC/C,CAAC,cACNlB,IAAA,OAAIkB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1EnB,IAAA,MAAGkB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEV,OAAO,CAAI,CAAC,cAC/CT,IAAA,CAACP,IAAI,EAAC2B,EAAE,CAAC,QAAQ,CAACF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,mBAE9C,CAAM,CAAC,EACJ,CAAC,CACN,CACH,CAEAZ,MAAM,GAAK,OAAO,eACjBP,IAAA,CAAAI,SAAA,EAAAe,QAAA,cACEjB,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnB,IAAA,QAAKkB,SAAS,CAAC,iFAAiF,CAAAC,QAAA,cAC9FnB,IAAA,CAACJ,WAAW,EAACsB,SAAS,CAAC,sBAAsB,CAAE,CAAC,CAC7C,CAAC,cACNlB,IAAA,OAAIkB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC9EnB,IAAA,MAAGkB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEV,OAAO,CAAI,CAAC,cAC/CP,KAAA,QAAKgB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7DnB,IAAA,CAACP,IAAI,EAAC2B,EAAE,CAAC,WAAW,CAACF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,gBAEjD,CAAM,CAAC,cACPnB,IAAA,CAACP,IAAI,EAAC2B,EAAE,CAAC,QAAQ,CAACF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,eAE9C,CAAM,CAAC,EACJ,CAAC,EACH,CAAC,CACN,CACH,EACE,CAAC,cAGNnB,IAAA,QAAKkB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BnB,IAAA,MAAGkB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,qDAErC,CAAG,CAAC,CACD,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}